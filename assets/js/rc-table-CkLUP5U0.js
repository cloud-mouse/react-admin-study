import{r}from"./react-CIM1rrag.js";import{c as Vt,a as mn,u as Z}from"./@rc-component-DYklQSrI.js";import"./react-is-BpBQ4hf7.js";import{c as j,d as ke,b as B,e as C,g as te,k as Te,f as ve}from"./@babel-CbNk-B6_.js";import{c as ee}from"./classnames-ELZfJkp_.js";import{p as tt,o as rt,E as vn,j as Ne,h as Dn,y as jt,c as Ut,D as at,t as Vn,L as qe,M as jn,l as Yt,d as Un,N as Gt,C as Yn}from"./rc-util-jI2IUycA.js";import{R as pn}from"./rc-resize-observer-DzFB8mcR.js";import{L as qt}from"./rc-virtual-list-jPw5Q6vC.js";var we={},Qe="rc-table-internal-hook",xn=Vt(),ot=xn.makeImmutable,Ke=xn.responseImmutable,Jt=xn.useImmutableMark,re=mn(),lt=r.createContext({renderWithProps:!1}),Qt="RC_TABLE_KEY";function Zt(e){return e==null?[]:Array.isArray(e)?e:[e]}function Ze(e){var t=[],n={};return e.forEach(function(a){for(var o=a||{},l=o.key,i=o.dataIndex,d=l||Zt(i).join("-")||Qt;n[d];)d="".concat(d,"_next");n[d]=!0,t.push(d)}),t}function dn(e){return e!=null}function er(e){return typeof e=="number"&&!Number.isNaN(e)}function nr(e){return e&&ke(e)==="object"&&!Array.isArray(e)&&!r.isValidElement(e)}function tr(e,t,n,a,o,l){var i=r.useContext(lt),d=Jt(),c=tt(function(){if(dn(a))return[a];var s=t==null||t===""?[]:Array.isArray(t)?t:[t],p=vn(e,s),f=p,m=void 0;if(o){var u=o(p,e,n);nr(u)?(f=u.children,m=u.props,i.renderWithProps=!0):f=u}return[f,m]},[d,e,a,t,o,n],function(s,p){if(l){var f=j(s,2),m=f[1],u=j(p,2),v=u[1];return l(v,m)}return i.renderWithProps?!0:!rt(s,p,!0)});return c}function rr(e,t,n,a){var o=e+t-1;return e<=a&&o>=n}function ar(e,t){return Z(re,function(n){var a=rr(e,t||1,n.hoverStartRow,n.hoverEndRow);return[a,n.onHover]})}var or=function(t){var n=t.ellipsis,a=t.rowType,o=t.children,l,i=n===!0?{showTitle:!0}:n;return i&&(i.showTitle||a==="header")&&(typeof o=="string"||typeof o=="number"?l=o.toString():r.isValidElement(o)&&typeof o.props.children=="string"&&(l=o.props.children)),l};function lr(e){var t,n,a,o,l,i,d,c,s=e.component,p=e.children,f=e.ellipsis,m=e.scope,u=e.prefixCls,v=e.className,w=e.align,g=e.record,L=e.render,I=e.dataIndex,R=e.renderIndex,H=e.shouldCellUpdate,b=e.index,_=e.rowType,M=e.colSpan,F=e.rowSpan,O=e.fixLeft,$=e.fixRight,V=e.firstFixLeft,E=e.lastFixLeft,N=e.firstFixRight,y=e.lastFixRight,x=e.appendNode,h=e.additionalProps,S=h===void 0?{}:h,k=e.isSticky,T="".concat(u,"-cell"),z=Z(re,["supportSticky","allColumnsFixedLeft","rowHoverable"]),W=z.supportSticky,ae=z.allColumnsFixedLeft,oe=z.rowHoverable,pe=tr(g,I,R,p,L,H),se=j(pe,2),xe=se[0],A=se[1],D={},de=typeof O=="number"&&W,Ce=typeof $=="number"&&W;de&&(D.position="sticky",D.left=O),Ce&&(D.position="sticky",D.right=$);var Y=(t=(n=(a=A==null?void 0:A.colSpan)!==null&&a!==void 0?a:S.colSpan)!==null&&n!==void 0?n:M)!==null&&t!==void 0?t:1,U=(o=(l=(i=A==null?void 0:A.rowSpan)!==null&&i!==void 0?i:S.rowSpan)!==null&&l!==void 0?l:F)!==null&&o!==void 0?o:1,ne=ar(b,U),fe=j(ne,2),Be=fe[0],Le=fe[1],he=Ne(function($e){var q;g&&Le(b,b+U-1),S==null||(q=S.onMouseEnter)===null||q===void 0||q.call(S,$e)}),Ie=Ne(function($e){var q;g&&Le(-1,-1),S==null||(q=S.onMouseLeave)===null||q===void 0||q.call(S,$e)});if(Y===0||U===0)return null;var Fe=(d=S.title)!==null&&d!==void 0?d:or({rowType:_,ellipsis:f,children:xe}),ye=ee(T,v,(c={},B(B(B(B(B(B(B(B(B(B(c,"".concat(T,"-fix-left"),de&&W),"".concat(T,"-fix-left-first"),V&&W),"".concat(T,"-fix-left-last"),E&&W),"".concat(T,"-fix-left-all"),E&&ae&&W),"".concat(T,"-fix-right"),Ce&&W),"".concat(T,"-fix-right-first"),N&&W),"".concat(T,"-fix-right-last"),y&&W),"".concat(T,"-ellipsis"),f),"".concat(T,"-with-append"),x),"".concat(T,"-fix-sticky"),(de||Ce)&&k&&W),B(c,"".concat(T,"-row-hover"),!A&&Be)),S.className,A==null?void 0:A.className),ge={};w&&(ge.textAlign=w);var X=C(C(C(C({},A==null?void 0:A.style),D),ge),S.style),ie=xe;return ke(ie)==="object"&&!Array.isArray(ie)&&!r.isValidElement(ie)&&(ie=null),f&&(E||N)&&(ie=r.createElement("span",{className:"".concat(T,"-content")},ie)),r.createElement(s,te({},A,S,{className:ye,style:X,title:Fe,scope:m,onMouseEnter:oe?he:void 0,onMouseLeave:oe?Ie:void 0,colSpan:Y!==1?Y:null,rowSpan:U!==1?U:null}),x,ie)}const Oe=r.memo(lr);function Cn(e,t,n,a,o){var l=n[e]||{},i=n[t]||{},d,c;l.fixed==="left"?d=a.left[o==="rtl"?t:e]:i.fixed==="right"&&(c=a.right[o==="rtl"?e:t]);var s=!1,p=!1,f=!1,m=!1,u=n[t+1],v=n[e-1],w=u&&!u.fixed||v&&!v.fixed||n.every(function(H){return H.fixed==="left"});if(o==="rtl"){if(d!==void 0){var g=v&&v.fixed==="left";m=!g&&w}else if(c!==void 0){var L=u&&u.fixed==="right";f=!L&&w}}else if(d!==void 0){var I=u&&u.fixed==="left";s=!I&&w}else if(c!==void 0){var R=v&&v.fixed==="right";p=!R&&w}return{fixLeft:d,fixRight:c,lastFixLeft:s,firstFixRight:p,lastFixRight:f,firstFixLeft:m,isSticky:a.isSticky}}var it=r.createContext({});function ir(e){var t=e.className,n=e.index,a=e.children,o=e.colSpan,l=o===void 0?1:o,i=e.rowSpan,d=e.align,c=Z(re,["prefixCls","direction"]),s=c.prefixCls,p=c.direction,f=r.useContext(it),m=f.scrollColumnIndex,u=f.stickyOffsets,v=f.flattenColumns,w=n+l-1,g=w+1===m?l+1:l,L=Cn(n,n+g-1,v,u,p);return r.createElement(Oe,te({className:t,index:n,component:"td",prefixCls:s,record:null,dataIndex:null,align:d,colSpan:g,rowSpan:i,render:function(){return a}},L))}var ur=["children"];function cr(e){var t=e.children,n=Te(e,ur);return r.createElement("tr",n,t)}function en(e){var t=e.children;return t}en.Row=cr;en.Cell=ir;function sr(e){var t=e.children,n=e.stickyOffsets,a=e.flattenColumns,o=Z(re,"prefixCls"),l=a.length-1,i=a[l],d=r.useMemo(function(){return{stickyOffsets:n,flattenColumns:a,scrollColumnIndex:i!=null&&i.scrollbar?l:null}},[i,a,l,n]);return r.createElement(it.Provider,{value:d},r.createElement("tfoot",{className:"".concat(o,"-summary")},t))}const Je=Ke(sr);var dr=en;function fr(e){return null}function mr(e){return null}function ut(e,t,n,a,o,l,i){e.push({record:t,indent:n,index:i});var d=l(t),c=o==null?void 0:o.has(d);if(t&&Array.isArray(t[a])&&c)for(var s=0;s<t[a].length;s+=1)ut(e,t[a][s],n+1,a,o,l,s)}function ct(e,t,n,a){var o=r.useMemo(function(){if(n!=null&&n.size){for(var l=[],i=0;i<(e==null?void 0:e.length);i+=1){var d=e[i];ut(l,d,0,t,n,a,i)}return l}return e==null?void 0:e.map(function(c,s){return{record:c,indent:0,index:s}})},[e,t,n,a]);return o}function st(e,t,n,a){var o=Z(re,["prefixCls","fixedInfoList","flattenColumns","expandableType","expandRowByClick","onTriggerExpand","rowClassName","expandedRowClassName","indentSize","expandIcon","expandedRowRender","expandIconColumnIndex","expandedKeys","childrenColumnName","rowExpandable","onRow"]),l=o.flattenColumns,i=o.expandableType,d=o.expandedKeys,c=o.childrenColumnName,s=o.onTriggerExpand,p=o.rowExpandable,f=o.onRow,m=o.expandRowByClick,u=o.rowClassName,v=i==="nest",w=i==="row"&&(!p||p(e)),g=w||v,L=d&&d.has(t),I=c&&e&&e[c],R=Ne(s),H=f==null?void 0:f(e,n),b=H==null?void 0:H.onClick,_=function($){m&&g&&s(e,$);for(var V=arguments.length,E=new Array(V>1?V-1:0),N=1;N<V;N++)E[N-1]=arguments[N];b==null||b.apply(void 0,[$].concat(E))},M;typeof u=="string"?M=u:typeof u=="function"&&(M=u(e,n,a));var F=Ze(l);return C(C({},o),{},{columnsKey:F,nestExpandable:v,expanded:L,hasNestChildren:I,record:e,onTriggerExpand:R,rowSupportExpand:w,expandable:g,rowProps:C(C({},H),{},{className:ee(M,H==null?void 0:H.className),onClick:_})})}function dt(e){var t=e.prefixCls,n=e.children,a=e.component,o=e.cellComponent,l=e.className,i=e.expanded,d=e.colSpan,c=e.isEmpty,s=Z(re,["scrollbarSize","fixHeader","fixColumn","componentWidth","horizonScroll"]),p=s.scrollbarSize,f=s.fixHeader,m=s.fixColumn,u=s.componentWidth,v=s.horizonScroll,w=n;return(c?v&&u:m)&&(w=r.createElement("div",{style:{width:u-(f&&!c?p:0),position:"sticky",left:0,overflow:"hidden"},className:"".concat(t,"-expanded-row-fixed")},w)),r.createElement(a,{className:l,style:{display:i?null:"none"}},r.createElement(Oe,{component:o,prefixCls:t,colSpan:d},w))}function vr(e){var t=e.prefixCls,n=e.record,a=e.onExpand,o=e.expanded,l=e.expandable,i="".concat(t,"-row-expand-icon");if(!l)return r.createElement("span",{className:ee(i,"".concat(t,"-row-spaced"))});var d=function(s){a(n,s),s.stopPropagation()};return r.createElement("span",{className:ee(i,B(B({},"".concat(t,"-row-expanded"),o),"".concat(t,"-row-collapsed"),!o)),onClick:d})}function pr(e,t,n){var a=[];function o(l){(l||[]).forEach(function(i,d){a.push(t(i,d)),o(i[n])})}return o(e),a}function ft(e,t,n,a){return typeof e=="string"?e:typeof e=="function"?e(t,n,a):""}function mt(e,t,n,a,o){var l=e.record,i=e.prefixCls,d=e.columnsKey,c=e.fixedInfoList,s=e.expandIconColumnIndex,p=e.nestExpandable,f=e.indentSize,m=e.expandIcon,u=e.expanded,v=e.hasNestChildren,w=e.onTriggerExpand,g=d[n],L=c[n],I;n===(s||0)&&p&&(I=r.createElement(r.Fragment,null,r.createElement("span",{style:{paddingLeft:"".concat(f*a,"px")},className:"".concat(i,"-row-indent indent-level-").concat(a)}),m({prefixCls:i,expanded:u,expandable:v,record:l,onExpand:w})));var R;return t.onCell&&(R=t.onCell(l,o)),{key:g,fixedInfo:L,appendCellNode:I,additionalCellProps:R||{}}}function xr(e){var t=e.className,n=e.style,a=e.record,o=e.index,l=e.renderIndex,i=e.rowKey,d=e.indent,c=d===void 0?0:d,s=e.rowComponent,p=e.cellComponent,f=e.scopeCellComponent,m=st(a,i,o,c),u=m.prefixCls,v=m.flattenColumns,w=m.expandedRowClassName,g=m.expandedRowRender,L=m.rowProps,I=m.expanded,R=m.rowSupportExpand,H=r.useRef(!1);H.current||(H.current=I);var b=ft(w,a,o,c),_=r.createElement(s,te({},L,{"data-row-key":i,className:ee(t,"".concat(u,"-row"),"".concat(u,"-row-level-").concat(c),L==null?void 0:L.className,B({},b,c>=1)),style:C(C({},n),L==null?void 0:L.style)}),v.map(function(O,$){var V=O.render,E=O.dataIndex,N=O.className,y=mt(m,O,$,c,o),x=y.key,h=y.fixedInfo,S=y.appendCellNode,k=y.additionalCellProps;return r.createElement(Oe,te({className:N,ellipsis:O.ellipsis,align:O.align,scope:O.rowScope,component:O.rowScope?f:p,prefixCls:u,key:x,record:a,index:o,renderIndex:l,dataIndex:E,render:V,shouldCellUpdate:O.shouldCellUpdate},h,{appendNode:S,additionalProps:k}))})),M;if(R&&(H.current||I)){var F=g(a,o,c+1,I);M=r.createElement(dt,{expanded:I,className:ee("".concat(u,"-expanded-row"),"".concat(u,"-expanded-row-level-").concat(c+1),b),prefixCls:u,component:s,cellComponent:p,colSpan:v.length,isEmpty:!1},F)}return r.createElement(r.Fragment,null,_,M)}const Cr=Ke(xr);function yr(e){var t=e.columnKey,n=e.onColumnResize,a=r.useRef();return r.useEffect(function(){a.current&&n(t,a.current.offsetWidth)},[]),r.createElement(pn,{data:t},r.createElement("td",{ref:a,style:{padding:0,border:0,height:0}},r.createElement("div",{style:{height:0,overflow:"hidden"}}," ")))}function hr(e){var t=e.prefixCls,n=e.columnsKey,a=e.onColumnResize;return r.createElement("tr",{"aria-hidden":"true",className:"".concat(t,"-measure-row"),style:{height:0,fontSize:0}},r.createElement(pn.Collection,{onBatchResize:function(l){l.forEach(function(i){var d=i.data,c=i.size;a(d,c.offsetWidth)})}},n.map(function(o){return r.createElement(yr,{key:o,columnKey:o,onColumnResize:a})})))}function gr(e){var t=e.data,n=e.measureColumnWidth,a=Z(re,["prefixCls","getComponent","onColumnResize","flattenColumns","getRowKey","expandedKeys","childrenColumnName","emptyNode"]),o=a.prefixCls,l=a.getComponent,i=a.onColumnResize,d=a.flattenColumns,c=a.getRowKey,s=a.expandedKeys,p=a.childrenColumnName,f=a.emptyNode,m=ct(t,p,s,c),u=r.useRef({renderWithProps:!1}),v=l(["body","wrapper"],"tbody"),w=l(["body","row"],"tr"),g=l(["body","cell"],"td"),L=l(["body","cell"],"th"),I;t.length?I=m.map(function(H,b){var _=H.record,M=H.indent,F=H.index,O=c(_,b);return r.createElement(Cr,{key:O,rowKey:O,record:_,index:b,renderIndex:F,rowComponent:w,cellComponent:g,scopeCellComponent:L,indent:M})}):I=r.createElement(dt,{expanded:!0,className:"".concat(o,"-placeholder"),prefixCls:o,component:w,cellComponent:g,colSpan:d.length,isEmpty:!0},f);var R=Ze(d);return r.createElement(lt.Provider,{value:u.current},r.createElement(v,{className:"".concat(o,"-tbody")},n&&r.createElement(hr,{prefixCls:o,columnsKey:R,onColumnResize:i}),I))}const Sr=Ke(gr);var wr=["expandable"],vt="RC_TABLE_INTERNAL_COL_DEFINE";function Rr(e){var t=e.expandable,n=Te(e,wr),a;return"expandable"in e?a=C(C({},n),t):a=n,a.showExpandColumn===!1&&(a.expandIconColumnIndex=-1),a}var Er=["columnType"];function pt(e){for(var t=e.colWidths,n=e.columns,a=e.columCount,o=Z(re,["tableLayout"]),l=o.tableLayout,i=[],d=a||n.length,c=!1,s=d-1;s>=0;s-=1){var p=t[s],f=n&&n[s],m=void 0,u=void 0;if(f&&(m=f[vt],l==="auto"&&(u=f.minWidth)),p||u||m||c){var v=m||{};v.columnType;var w=Te(v,Er);i.unshift(r.createElement("col",te({key:s,style:{width:p,minWidth:u}},w))),c=!0}}return r.createElement("colgroup",null,i)}var br=["className","noData","columns","flattenColumns","colWidths","columCount","stickyOffsets","direction","fixHeader","stickyTopOffset","stickyBottomOffset","stickyClassName","onScroll","maxContentScroll","children"];function Nr(e,t){return r.useMemo(function(){for(var n=[],a=0;a<t;a+=1){var o=e[a];if(o!==void 0)n[a]=o;else return null}return n},[e.join("_"),t])}var kr=r.forwardRef(function(e,t){var n=e.className,a=e.noData,o=e.columns,l=e.flattenColumns,i=e.colWidths,d=e.columCount,c=e.stickyOffsets,s=e.direction,p=e.fixHeader,f=e.stickyTopOffset,m=e.stickyBottomOffset,u=e.stickyClassName,v=e.onScroll,w=e.maxContentScroll,g=e.children,L=Te(e,br),I=Z(re,["prefixCls","scrollbarSize","isSticky","getComponent"]),R=I.prefixCls,H=I.scrollbarSize,b=I.isSticky,_=I.getComponent,M=_(["header","table"],"table"),F=b&&!p?0:H,O=r.useRef(null),$=r.useCallback(function(k){Dn(t,k),Dn(O,k)},[]);r.useEffect(function(){var k;function T(z){var W=z,ae=W.currentTarget,oe=W.deltaX;oe&&(v({currentTarget:ae,scrollLeft:ae.scrollLeft+oe}),z.preventDefault())}return(k=O.current)===null||k===void 0||k.addEventListener("wheel",T,{passive:!1}),function(){var z;(z=O.current)===null||z===void 0||z.removeEventListener("wheel",T)}},[]);var V=r.useMemo(function(){return l.every(function(k){return k.width})},[l]),E=l[l.length-1],N={fixed:E?E.fixed:null,scrollbar:!0,onHeaderCell:function(){return{className:"".concat(R,"-cell-scrollbar")}}},y=r.useMemo(function(){return F?[].concat(ve(o),[N]):o},[F,o]),x=r.useMemo(function(){return F?[].concat(ve(l),[N]):l},[F,l]),h=r.useMemo(function(){var k=c.right,T=c.left;return C(C({},c),{},{left:s==="rtl"?[].concat(ve(T.map(function(z){return z+F})),[0]):T,right:s==="rtl"?k:[].concat(ve(k.map(function(z){return z+F})),[0]),isSticky:b})},[F,c,b]),S=Nr(i,d);return r.createElement("div",{style:C({overflow:"hidden"},b?{top:f,bottom:m}:{}),ref:$,className:ee(n,B({},u,!!u))},r.createElement(M,{style:{tableLayout:"fixed",visibility:a||S?null:"hidden"}},(!a||!w||V)&&r.createElement(pt,{colWidths:S?[].concat(ve(S),[F]):[],columCount:d+1,columns:x}),g(C(C({},L),{},{stickyOffsets:h,columns:y,flattenColumns:x}))))});const Gn=r.memo(kr);var Tr=function(t){var n=t.cells,a=t.stickyOffsets,o=t.flattenColumns,l=t.rowComponent,i=t.cellComponent,d=t.onHeaderRow,c=t.index,s=Z(re,["prefixCls","direction"]),p=s.prefixCls,f=s.direction,m;d&&(m=d(n.map(function(v){return v.column}),c));var u=Ze(n.map(function(v){return v.column}));return r.createElement(l,m,n.map(function(v,w){var g=v.column,L=Cn(v.colStart,v.colEnd,o,a,f),I;return g&&g.onHeaderCell&&(I=v.column.onHeaderCell(g)),r.createElement(Oe,te({},v,{scope:g.title?v.colSpan>1?"colgroup":"col":null,ellipsis:g.ellipsis,align:g.align,component:i,prefixCls:p,key:u[w]},L,{additionalProps:I,rowType:"header"}))}))};function Lr(e){var t=[];function n(i,d){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;t[c]=t[c]||[];var s=d,p=i.filter(Boolean).map(function(f){var m={key:f.key,className:f.className||"",children:f.title,column:f,colStart:s},u=1,v=f.children;return v&&v.length>0&&(u=n(v,s,c+1).reduce(function(w,g){return w+g},0),m.hasSubColumns=!0),"colSpan"in f&&(u=f.colSpan),"rowSpan"in f&&(m.rowSpan=f.rowSpan),m.colSpan=u,m.colEnd=m.colStart+u-1,t[c].push(m),s+=u,u});return p}n(e,0);for(var a=t.length,o=function(d){t[d].forEach(function(c){!("rowSpan"in c)&&!c.hasSubColumns&&(c.rowSpan=a-d)})},l=0;l<a;l+=1)o(l);return t}var Ir=function(t){var n=t.stickyOffsets,a=t.columns,o=t.flattenColumns,l=t.onHeaderRow,i=Z(re,["prefixCls","getComponent"]),d=i.prefixCls,c=i.getComponent,s=r.useMemo(function(){return Lr(a)},[a]),p=c(["header","wrapper"],"thead"),f=c(["header","row"],"tr"),m=c(["header","cell"],"th");return r.createElement(p,{className:"".concat(d,"-thead")},s.map(function(u,v){var w=r.createElement(Tr,{key:v,flattenColumns:o,cells:u,stickyOffsets:n,rowComponent:f,cellComponent:m,onHeaderRow:l,index:v});return w}))};const qn=Ke(Ir);function Jn(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return typeof t=="number"?t:t.endsWith("%")?e*parseFloat(t)/100:null}function Hr(e,t,n){return r.useMemo(function(){if(t&&t>0){var a=0,o=0;e.forEach(function(m){var u=Jn(t,m.width);u?a+=u:o+=1});var l=Math.max(t,n),i=Math.max(l-a,o),d=o,c=i/o,s=0,p=e.map(function(m){var u=C({},m),v=Jn(t,u.width);if(v)u.width=v;else{var w=Math.floor(c);u.width=d===1?i:w,i-=w,d-=1}return s+=u.width,u});if(s<l){var f=l/s;i=l,p.forEach(function(m,u){var v=Math.floor(m.width*f);m.width=u===p.length-1?i:v,i-=v})}return[p,Math.max(s,l)]}return[e,t]},[e,t,n])}var _r=["children"],Mr=["fixed"];function xt(e){return jt(e).filter(function(t){return r.isValidElement(t)}).map(function(t){var n=t.key,a=t.props,o=a.children,l=Te(a,_r),i=C({key:n},l);return o&&(i.children=xt(o)),i})}function Ct(e){return e.filter(function(t){return t&&ke(t)==="object"&&!t.hidden}).map(function(t){var n=t.children;return n&&n.length>0?C(C({},t),{},{children:Ct(n)}):t})}function fn(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"key";return e.filter(function(n){return n&&ke(n)==="object"}).reduce(function(n,a,o){var l=a.fixed,i=l===!0?"left":l,d="".concat(t,"-").concat(o),c=a.children;return c&&c.length>0?[].concat(ve(n),ve(fn(c,d).map(function(s){return C({fixed:i},s)}))):[].concat(ve(n),[C(C({key:d},a),{},{fixed:i})])},[])}function Pr(e){return e.map(function(t){var n=t.fixed,a=Te(t,Mr),o=n;return n==="left"?o="right":n==="right"&&(o="left"),C({fixed:o},a)})}function Kr(e,t){var n=e.prefixCls,a=e.columns,o=e.children,l=e.expandable,i=e.expandedKeys,d=e.columnTitle,c=e.getRowKey,s=e.onTriggerExpand,p=e.expandIcon,f=e.rowExpandable,m=e.expandIconColumnIndex,u=e.direction,v=e.expandRowByClick,w=e.columnWidth,g=e.fixed,L=e.scrollWidth,I=e.clientWidth,R=r.useMemo(function(){var E=a||xt(o)||[];return Ct(E.slice())},[a,o]),H=r.useMemo(function(){if(l){var E=R.slice();if(!E.includes(we)){var N=m||0;N>=0&&(N||g==="left"||!g)&&E.splice(N,0,we),g==="right"&&E.splice(R.length,0,we)}var y=E.indexOf(we);E=E.filter(function(k,T){return k!==we||T===y});var x=R[y],h;g?h=g:h=x?x.fixed:null;var S=B(B(B(B(B(B({},vt,{className:"".concat(n,"-expand-icon-col"),columnType:"EXPAND_COLUMN"}),"title",d),"fixed",h),"className","".concat(n,"-row-expand-icon-cell")),"width",w),"render",function(T,z,W){var ae=c(z,W),oe=i.has(ae),pe=f?f(z):!0,se=p({prefixCls:n,expanded:oe,expandable:pe,record:z,onExpand:s});return v?r.createElement("span",{onClick:function(A){return A.stopPropagation()}},se):se});return E.map(function(k){return k===we?S:k})}return R.filter(function(k){return k!==we})},[l,R,c,i,p,u]),b=r.useMemo(function(){var E=H;return t&&(E=t(E)),E.length||(E=[{render:function(){return null}}]),E},[t,H,u]),_=r.useMemo(function(){return u==="rtl"?Pr(fn(b)):fn(b)},[b,u,L]),M=r.useMemo(function(){for(var E=-1,N=_.length-1;N>=0;N-=1){var y=_[N].fixed;if(y==="left"||y===!0){E=N;break}}if(E>=0)for(var x=0;x<=E;x+=1){var h=_[x].fixed;if(h!=="left"&&h!==!0)return!0}var S=_.findIndex(function(z){var W=z.fixed;return W==="right"});if(S>=0)for(var k=S;k<_.length;k+=1){var T=_[k].fixed;if(T!=="right")return!0}return!1},[_]),F=Hr(_,L,I),O=j(F,2),$=O[0],V=O[1];return[b,$,V,M]}function Or(e,t,n){var a=Rr(e),o=a.expandIcon,l=a.expandedRowKeys,i=a.defaultExpandedRowKeys,d=a.defaultExpandAllRows,c=a.expandedRowRender,s=a.onExpand,p=a.onExpandedRowsChange,f=a.childrenColumnName,m=o||vr,u=f||"children",v=r.useMemo(function(){return c?"row":e.expandable&&e.internalHooks===Qe&&e.expandable.__PARENT_RENDER_ICON__||t.some(function(b){return b&&ke(b)==="object"&&b[u]})?"nest":!1},[!!c,t]),w=r.useState(function(){return i||(d?pr(t,n,u):[])}),g=j(w,2),L=g[0],I=g[1],R=r.useMemo(function(){return new Set(l||L||[])},[l,L]),H=r.useCallback(function(b){var _=n(b,t.indexOf(b)),M,F=R.has(_);F?(R.delete(_),M=ve(R)):M=[].concat(ve(R),[_]),I(M),s&&s(!F,b),p&&p(M)},[n,R,t,s,p]);return[a,v,R,m,u,H]}function zr(e,t,n){var a=e.map(function(o,l){return Cn(l,l,e,t,n)});return tt(function(){return a},[a],function(o,l){return!rt(o,l)})}function yt(e){var t=r.useRef(e),n=r.useState({}),a=j(n,2),o=a[1],l=r.useRef(null),i=r.useRef([]);function d(c){i.current.push(c);var s=Promise.resolve();l.current=s,s.then(function(){if(l.current===s){var p=i.current,f=t.current;i.current=[],p.forEach(function(m){t.current=m(t.current)}),l.current=null,f!==t.current&&o({})}})}return r.useEffect(function(){return function(){l.current=null}},[]),[t.current,d]}function Br(e){var t=r.useRef(null),n=r.useRef();function a(){window.clearTimeout(n.current)}function o(i){t.current=i,a(),n.current=window.setTimeout(function(){t.current=null,n.current=void 0},100)}function l(){return t.current}return r.useEffect(function(){return a},[]),[o,l]}function Fr(){var e=r.useState(-1),t=j(e,2),n=t[0],a=t[1],o=r.useState(-1),l=j(o,2),i=l[0],d=l[1],c=r.useCallback(function(s,p){a(s),d(p)},[]);return[n,i,c]}var Qn=Ut()?window:null;function $r(e,t){var n=ke(e)==="object"?e:{},a=n.offsetHeader,o=a===void 0?0:a,l=n.offsetSummary,i=l===void 0?0:l,d=n.offsetScroll,c=d===void 0?0:d,s=n.getContainer,p=s===void 0?function(){return Qn}:s,f=p()||Qn,m=!!e;return r.useMemo(function(){return{isSticky:m,stickyClassName:m?"".concat(t,"-sticky-holder"):"",offsetHeader:o,offsetSummary:i,offsetScroll:c,container:f}},[m,c,o,i,t,f])}function Wr(e,t,n){var a=r.useMemo(function(){var o=t.length,l=function(s,p,f){for(var m=[],u=0,v=s;v!==p;v+=f)m.push(u),t[v].fixed&&(u+=e[v]||0);return m},i=l(0,o,1),d=l(o-1,-1,-1).reverse();return n==="rtl"?{left:d,right:i}:{left:i,right:d}},[e,t,n]);return a}function Zn(e){var t=e.className,n=e.children;return r.createElement("div",{className:t},n)}function et(e){var t=at(e),n=t.getBoundingClientRect(),a=document.documentElement;return{left:n.left+(window.pageXOffset||a.scrollLeft)-(a.clientLeft||document.body.clientLeft||0),top:n.top+(window.pageYOffset||a.scrollTop)-(a.clientTop||document.body.clientTop||0)}}var Ar=function(t,n){var a,o,l=t.scrollBodyRef,i=t.onScroll,d=t.offsetScroll,c=t.container,s=t.direction,p=Z(re,"prefixCls"),f=((a=l.current)===null||a===void 0?void 0:a.scrollWidth)||0,m=((o=l.current)===null||o===void 0?void 0:o.clientWidth)||0,u=f&&m*(m/f),v=r.useRef(),w=yt({scrollLeft:0,isHiddenScrollBar:!0}),g=j(w,2),L=g[0],I=g[1],R=r.useRef({delta:0,x:0}),H=r.useState(!1),b=j(H,2),_=b[0],M=b[1],F=r.useRef(null);r.useEffect(function(){return function(){Vn.cancel(F.current)}},[]);var O=function(){M(!1)},$=function(x){x.persist(),R.current.delta=x.pageX-L.scrollLeft,R.current.x=0,M(!0),x.preventDefault()},V=function(x){var h,S=x||((h=window)===null||h===void 0?void 0:h.event),k=S.buttons;if(!_||k===0){_&&M(!1);return}var T=R.current.x+x.pageX-R.current.x-R.current.delta,z=s==="rtl";T=Math.max(z?u-m:0,Math.min(z?0:m-u,T));var W=!z||Math.abs(T)+Math.abs(u)<m;W&&(i({scrollLeft:T/m*(f+2)}),R.current.x=x.pageX)},E=function(){F.current=Vn(function(){if(l.current){var x=et(l.current).top,h=x+l.current.offsetHeight,S=c===window?document.documentElement.scrollTop+window.innerHeight:et(c).top+c.clientHeight;h-jn()<=S||x>=S-d?I(function(k){return C(C({},k),{},{isHiddenScrollBar:!0})}):I(function(k){return C(C({},k),{},{isHiddenScrollBar:!1})})}})},N=function(x){I(function(h){return C(C({},h),{},{scrollLeft:x/f*m||0})})};return r.useImperativeHandle(n,function(){return{setScrollLeft:N,checkScrollBarVisible:E}}),r.useEffect(function(){var y=qe(document.body,"mouseup",O,!1),x=qe(document.body,"mousemove",V,!1);return E(),function(){y.remove(),x.remove()}},[u,_]),r.useEffect(function(){var y=qe(c,"scroll",E,!1),x=qe(window,"resize",E,!1);return function(){y.remove(),x.remove()}},[c]),r.useEffect(function(){L.isHiddenScrollBar||I(function(y){var x=l.current;return x?C(C({},y),{},{scrollLeft:x.scrollLeft/x.scrollWidth*x.clientWidth}):y})},[L.isHiddenScrollBar]),f<=m||!u||L.isHiddenScrollBar?null:r.createElement("div",{style:{height:jn(),width:m,bottom:d},className:"".concat(p,"-sticky-scroll")},r.createElement("div",{onMouseDown:$,ref:v,className:ee("".concat(p,"-sticky-scroll-bar"),B({},"".concat(p,"-sticky-scroll-bar-active"),_)),style:{width:"".concat(u,"px"),transform:"translate3d(".concat(L.scrollLeft,"px, 0, 0)")}}))};const Xr=r.forwardRef(Ar);var ht="rc-table",Dr=[],Vr={};function jr(){return"No Data"}function Ur(e,t){var n=C({rowKey:"key",prefixCls:ht,emptyText:jr},e),a=n.prefixCls,o=n.className,l=n.rowClassName,i=n.style,d=n.data,c=n.rowKey,s=n.scroll,p=n.tableLayout,f=n.direction,m=n.title,u=n.footer,v=n.summary,w=n.caption,g=n.id,L=n.showHeader,I=n.components,R=n.emptyText,H=n.onRow,b=n.onHeaderRow,_=n.onScroll,M=n.internalHooks,F=n.transformColumns,O=n.internalRefs,$=n.tailor,V=n.getContainerWidth,E=n.sticky,N=n.rowHoverable,y=N===void 0?!0:N,x=d||Dr,h=!!x.length,S=M===Qe,k=r.useCallback(function(P,K){return vn(I,P)||K},[I]),T=r.useMemo(function(){return typeof c=="function"?c:function(P){var K=P&&P[c];return K}},[c]),z=k(["body"]),W=Fr(),ae=j(W,3),oe=ae[0],pe=ae[1],se=ae[2],xe=Or(n,x,T),A=j(xe,6),D=A[0],de=A[1],Ce=A[2],Y=A[3],U=A[4],ne=A[5],fe=s==null?void 0:s.x,Be=r.useState(0),Le=j(Be,2),he=Le[0],Ie=Le[1],Fe=Kr(C(C(C({},n),D),{},{expandable:!!D.expandedRowRender,columnTitle:D.columnTitle,expandedKeys:Ce,getRowKey:T,onTriggerExpand:ne,expandIcon:Y,expandIconColumnIndex:D.expandIconColumnIndex,direction:f,scrollWidth:S&&$&&typeof fe=="number"?fe:null,clientWidth:he}),S?F:null),ye=j(Fe,4),ge=ye[0],X=ye[1],ie=ye[2],$e=ye[3],q=ie??fe,hn=r.useMemo(function(){return{columns:ge,flattenColumns:X}},[ge,X]),Re=r.useRef(),nn=r.useRef(),G=r.useRef(),gn=r.useRef();r.useImperativeHandle(t,function(){return{nativeElement:Re.current,scrollTo:function(K){var J;if(G.current instanceof HTMLElement){var le=K.index,Q=K.top,Pe=K.key;if(er(Q)){var Ee;(Ee=G.current)===null||Ee===void 0||Ee.scrollTo({top:Q})}else{var be,Ae=Pe??T(x[le]);(be=G.current.querySelector('[data-row-key="'.concat(Ae,'"]')))===null||be===void 0||be.scrollIntoView()}}else(J=G.current)!==null&&J!==void 0&&J.scrollTo&&G.current.scrollTo(K)}}});var Sn=r.useRef(),St=r.useState(!1),wn=j(St,2),wt=wn[0],Xe=wn[1],Rt=r.useState(!1),Rn=j(Rt,2),Et=Rn[0],De=Rn[1],bt=yt(new Map),En=j(bt,2),Nt=En[0],kt=En[1],Tt=Ze(X),bn=Tt.map(function(P){return Nt.get(P)}),Nn=r.useMemo(function(){return bn},[bn.join("_")]),Ve=Wr(Nn,X,f),ue=s&&dn(s.y),me=s&&dn(q)||!!D.fixed,He=me&&X.some(function(P){var K=P.fixed;return K}),tn=r.useRef(),_e=$r(E,a),Se=_e.isSticky,Lt=_e.offsetHeader,It=_e.offsetSummary,Ht=_e.offsetScroll,_t=_e.stickyClassName,Mt=_e.container,ce=r.useMemo(function(){return v==null?void 0:v(x)},[v,x]),We=(ue||Se)&&r.isValidElement(ce)&&ce.type===en&&ce.props.fixed,rn,je,an;ue&&(je={overflowY:h?"scroll":"auto",maxHeight:s.y}),me&&(rn={overflowX:"auto"},ue||(je={overflowY:"hidden"}),an={width:q===!0?"auto":q,minWidth:"100%"});var kn=r.useCallback(function(P,K){Yt(Re.current)&&kt(function(J){if(J.get(P)!==K){var le=new Map(J);return le.set(P,K),le}return J})},[]),Pt=Br(),Tn=j(Pt,2),Kt=Tn[0],Ln=Tn[1];function Ue(P,K){K&&(typeof K=="function"?K(P):K.scrollLeft!==P&&(K.scrollLeft=P,K.scrollLeft!==P&&setTimeout(function(){K.scrollLeft=P},0)))}var Me=Ne(function(P){var K=P.currentTarget,J=P.scrollLeft,le=f==="rtl",Q=typeof J=="number"?J:K.scrollLeft,Pe=K||Vr;if(!Ln()||Ln()===Pe){var Ee;Kt(Pe),Ue(Q,nn.current),Ue(Q,G.current),Ue(Q,Sn.current),Ue(Q,(Ee=tn.current)===null||Ee===void 0?void 0:Ee.setScrollLeft)}var be=K||nn.current;if(be){var Ae=S&&$&&typeof q=="number"?q:be.scrollWidth,sn=be.clientWidth;if(Ae===sn){Xe(!1),De(!1);return}le?(Xe(-Q<Ae-sn),De(-Q>0)):(Xe(Q>0),De(Q<Ae-sn))}}),Ot=Ne(function(P){Me(P),_==null||_(P)}),In=function(){if(me&&G.current){var K;Me({currentTarget:at(G.current),scrollLeft:(K=G.current)===null||K===void 0?void 0:K.scrollLeft})}else Xe(!1),De(!1)},zt=function(K){var J,le=K.width;(J=tn.current)===null||J===void 0||J.checkScrollBarVisible();var Q=Re.current?Re.current.offsetWidth:le;S&&V&&Re.current&&(Q=V(Re.current,Q)||Q),Q!==he&&(In(),Ie(Q))},Hn=r.useRef(!1);r.useEffect(function(){Hn.current&&In()},[me,d,ge.length]),r.useEffect(function(){Hn.current=!0},[]);var Bt=r.useState(0),_n=j(Bt,2),Ye=_n[0],Mn=_n[1],Ft=r.useState(!0),Pn=j(Ft,2),Kn=Pn[0],$t=Pn[1];r.useEffect(function(){(!$||!S)&&(G.current instanceof Element?Mn(Un(G.current).width):Mn(Un(gn.current).width)),$t(Gt("position","sticky"))},[]),r.useEffect(function(){S&&O&&(O.body.current=G.current)});var Wt=r.useCallback(function(P){return r.createElement(r.Fragment,null,r.createElement(qn,P),We==="top"&&r.createElement(Je,P,ce))},[We,ce]),At=r.useCallback(function(P){return r.createElement(Je,P,ce)},[ce]),On=k(["table"],"table"),Ge=r.useMemo(function(){return p||(He?q==="max-content"?"auto":"fixed":ue||Se||X.some(function(P){var K=P.ellipsis;return K})?"fixed":"auto")},[ue,He,X,p,Se]),on,ln={colWidths:Nn,columCount:X.length,stickyOffsets:Ve,onHeaderRow:b,fixHeader:ue,scroll:s},zn=r.useMemo(function(){return h?null:typeof R=="function"?R():R},[h,R]),Bn=r.createElement(Sr,{data:x,measureColumnWidth:ue||me||Se}),Fn=r.createElement(pt,{colWidths:X.map(function(P){var K=P.width;return K}),columns:X}),$n=w!=null?r.createElement("caption",{className:"".concat(a,"-caption")},w):void 0,Xt=Yn(n,{data:!0}),Wn=Yn(n,{aria:!0});if(ue||Se){var un;typeof z=="function"?(un=z(x,{scrollbarSize:Ye,ref:G,onScroll:Me}),ln.colWidths=X.map(function(P,K){var J=P.width,le=K===X.length-1?J-Ye:J;return typeof le=="number"&&!Number.isNaN(le)?le:0})):un=r.createElement("div",{style:C(C({},rn),je),onScroll:Ot,ref:G,className:ee("".concat(a,"-body"))},r.createElement(On,te({style:C(C({},an),{},{tableLayout:Ge})},Wn),$n,Fn,Bn,!We&&ce&&r.createElement(Je,{stickyOffsets:Ve,flattenColumns:X},ce)));var An=C(C(C({noData:!x.length,maxContentScroll:me&&q==="max-content"},ln),hn),{},{direction:f,stickyClassName:_t,onScroll:Me});on=r.createElement(r.Fragment,null,L!==!1&&r.createElement(Gn,te({},An,{stickyTopOffset:Lt,className:"".concat(a,"-header"),ref:nn}),Wt),un,We&&We!=="top"&&r.createElement(Gn,te({},An,{stickyBottomOffset:It,className:"".concat(a,"-summary"),ref:Sn}),At),Se&&G.current&&G.current instanceof Element&&r.createElement(Xr,{ref:tn,offsetScroll:Ht,scrollBodyRef:G,onScroll:Me,container:Mt,direction:f}))}else on=r.createElement("div",{style:C(C({},rn),je),className:ee("".concat(a,"-content")),onScroll:Me,ref:G},r.createElement(On,te({style:C(C({},an),{},{tableLayout:Ge})},Wn),$n,Fn,L!==!1&&r.createElement(qn,te({},ln,hn)),Bn,ce&&r.createElement(Je,{stickyOffsets:Ve,flattenColumns:X},ce)));var cn=r.createElement("div",te({className:ee(a,o,B(B(B(B(B(B(B(B(B(B({},"".concat(a,"-rtl"),f==="rtl"),"".concat(a,"-ping-left"),wt),"".concat(a,"-ping-right"),Et),"".concat(a,"-layout-fixed"),p==="fixed"),"".concat(a,"-fixed-header"),ue),"".concat(a,"-fixed-column"),He),"".concat(a,"-fixed-column-gapped"),He&&$e),"".concat(a,"-scroll-horizontal"),me),"".concat(a,"-has-fix-left"),X[0]&&X[0].fixed),"".concat(a,"-has-fix-right"),X[X.length-1]&&X[X.length-1].fixed==="right")),style:i,id:g,ref:Re},Xt),m&&r.createElement(Zn,{className:"".concat(a,"-title")},m(x)),r.createElement("div",{ref:gn,className:"".concat(a,"-container")},on),u&&r.createElement(Zn,{className:"".concat(a,"-footer")},u(x)));me&&(cn=r.createElement(pn,{onResize:zt},cn));var Xn=zr(X,Ve,f),Dt=r.useMemo(function(){return{scrollX:q,prefixCls:a,getComponent:k,scrollbarSize:Ye,direction:f,fixedInfoList:Xn,isSticky:Se,supportSticky:Kn,componentWidth:he,fixHeader:ue,fixColumn:He,horizonScroll:me,tableLayout:Ge,rowClassName:l,expandedRowClassName:D.expandedRowClassName,expandIcon:Y,expandableType:de,expandRowByClick:D.expandRowByClick,expandedRowRender:D.expandedRowRender,onTriggerExpand:ne,expandIconColumnIndex:D.expandIconColumnIndex,indentSize:D.indentSize,allColumnsFixedLeft:X.every(function(P){return P.fixed==="left"}),emptyNode:zn,columns:ge,flattenColumns:X,onColumnResize:kn,hoverStartRow:oe,hoverEndRow:pe,onHover:se,rowExpandable:D.rowExpandable,onRow:H,getRowKey:T,expandedKeys:Ce,childrenColumnName:U,rowHoverable:y}},[q,a,k,Ye,f,Xn,Se,Kn,he,ue,He,me,Ge,l,D.expandedRowClassName,Y,de,D.expandRowByClick,D.expandedRowRender,ne,D.expandIconColumnIndex,D.indentSize,zn,ge,X,kn,oe,pe,se,D.rowExpandable,H,T,Ce,U,y]);return r.createElement(re.Provider,{value:Dt},cn)}var Yr=r.forwardRef(Ur);function Gr(e){return ot(Yr,e)}var ze=Gr();ze.EXPAND_COLUMN=we;ze.INTERNAL_HOOKS=Qe;ze.Column=fr;ze.ColumnGroup=mr;ze.Summary=dr;var yn=mn(null),gt=mn(null);function qr(e,t,n){var a=t||1;return n[e+a]-(n[e]||0)}function Jr(e){var t=e.rowInfo,n=e.column,a=e.colIndex,o=e.indent,l=e.index,i=e.component,d=e.renderIndex,c=e.record,s=e.style,p=e.className,f=e.inverse,m=e.getHeight,u=n.render,v=n.dataIndex,w=n.className,g=n.width,L=Z(gt,["columnsOffset"]),I=L.columnsOffset,R=mt(t,n,a,o,l),H=R.key,b=R.fixedInfo,_=R.appendCellNode,M=R.additionalCellProps,F=M.style,O=M.colSpan,$=O===void 0?1:O,V=M.rowSpan,E=V===void 0?1:V,N=a-1,y=qr(N,$,I),x=$>1?g-y:0,h=C(C(C({},F),s),{},{flex:"0 0 ".concat(y,"px"),width:"".concat(y,"px"),marginRight:x,pointerEvents:"auto"}),S=r.useMemo(function(){return f?E<=1:$===0||E===0||E>1},[E,$,f]);S?h.visibility="hidden":f&&(h.height=m==null?void 0:m(E));var k=S?function(){return null}:u,T={};return(E===0||$===0)&&(T.rowSpan=1,T.colSpan=1),r.createElement(Oe,te({className:ee(w,p),ellipsis:n.ellipsis,align:n.align,scope:n.rowScope,component:i,prefixCls:t.prefixCls,key:H,record:c,index:l,renderIndex:d,dataIndex:v,render:k,shouldCellUpdate:n.shouldCellUpdate},b,{appendNode:_,additionalProps:C(C({},M),{},{style:h},T)}))}var Qr=["data","index","className","rowKey","style","extra","getHeight"],Zr=r.forwardRef(function(e,t){var n=e.data,a=e.index,o=e.className,l=e.rowKey,i=e.style,d=e.extra,c=e.getHeight,s=Te(e,Qr),p=n.record,f=n.indent,m=n.index,u=Z(re,["prefixCls","flattenColumns","fixColumn","componentWidth","scrollX"]),v=u.scrollX,w=u.flattenColumns,g=u.prefixCls,L=u.fixColumn,I=u.componentWidth,R=Z(yn,["getComponent"]),H=R.getComponent,b=st(p,l,a,f),_=H(["body","row"],"div"),M=H(["body","cell"],"div"),F=b.rowSupportExpand,O=b.expanded,$=b.rowProps,V=b.expandedRowRender,E=b.expandedRowClassName,N;if(F&&O){var y=V(p,a,f+1,O),x=ft(E,p,a,f),h={};L&&(h={style:B({},"--virtual-width","".concat(I,"px"))});var S="".concat(g,"-expanded-row-cell");N=r.createElement(_,{className:ee("".concat(g,"-expanded-row"),"".concat(g,"-expanded-row-level-").concat(f+1),x)},r.createElement(Oe,{component:M,prefixCls:g,className:ee(S,B({},"".concat(S,"-fixed"),L)),additionalProps:h},y))}var k=C(C({},i),{},{width:v});d&&(k.position="absolute",k.pointerEvents="none");var T=r.createElement(_,te({},$,s,{"data-row-key":l,ref:F?null:t,className:ee(o,"".concat(g,"-row"),$==null?void 0:$.className,B({},"".concat(g,"-row-extra"),d)),style:C(C({},k),$==null?void 0:$.style)}),w.map(function(z,W){return r.createElement(Jr,{key:W,component:M,rowInfo:b,column:z,colIndex:W,indent:f,index:a,renderIndex:m,record:p,inverse:d,getHeight:c})}));return F?r.createElement("div",{ref:t},T,N):T}),nt=Ke(Zr),ea=r.forwardRef(function(e,t){var n=e.data,a=e.onScroll,o=Z(re,["flattenColumns","onColumnResize","getRowKey","prefixCls","expandedKeys","childrenColumnName","scrollX","direction"]),l=o.flattenColumns,i=o.onColumnResize,d=o.getRowKey,c=o.expandedKeys,s=o.prefixCls,p=o.childrenColumnName,f=o.scrollX,m=o.direction,u=Z(yn),v=u.sticky,w=u.scrollY,g=u.listItemHeight,L=u.getComponent,I=u.onScroll,R=r.useRef(),H=ct(n,p,c,d),b=r.useMemo(function(){var N=0;return l.map(function(y){var x=y.width,h=y.key;return N+=x,[h,x,N]})},[l]),_=r.useMemo(function(){return b.map(function(N){return N[2]})},[b]);r.useEffect(function(){b.forEach(function(N){var y=j(N,2),x=y[0],h=y[1];i(x,h)})},[b]),r.useImperativeHandle(t,function(){var N,y={scrollTo:function(h){var S;(S=R.current)===null||S===void 0||S.scrollTo(h)},nativeElement:(N=R.current)===null||N===void 0?void 0:N.nativeElement};return Object.defineProperty(y,"scrollLeft",{get:function(){var h;return((h=R.current)===null||h===void 0?void 0:h.getScrollInfo().x)||0},set:function(h){var S;(S=R.current)===null||S===void 0||S.scrollTo({left:h})}}),y});var M=function(y,x){var h,S=(h=H[x])===null||h===void 0?void 0:h.record,k=y.onCell;if(k){var T,z=k(S,x);return(T=z==null?void 0:z.rowSpan)!==null&&T!==void 0?T:1}return 1},F=function(y){var x=y.start,h=y.end,S=y.getSize,k=y.offsetY;if(h<0)return null;for(var T=l.filter(function(Y){return M(Y,x)===0}),z=x,W=function(U){if(T=T.filter(function(ne){return M(ne,U)===0}),!T.length)return z=U,1},ae=x;ae>=0&&!W(ae);ae-=1);for(var oe=l.filter(function(Y){return M(Y,h)!==1}),pe=h,se=function(U){if(oe=oe.filter(function(ne){return M(ne,U)!==1}),!oe.length)return pe=Math.max(U-1,h),1},xe=h;xe<H.length&&!se(xe);xe+=1);for(var A=[],D=function(U){var ne=H[U];if(!ne)return 1;l.some(function(fe){return M(fe,U)>1})&&A.push(U)},de=z;de<=pe;de+=1)D(de);var Ce=A.map(function(Y){var U=H[Y],ne=d(U.record,Y),fe=function(he){var Ie=Y+he-1,Fe=d(H[Ie].record,Ie),ye=S(ne,Fe);return ye.bottom-ye.top},Be=S(ne);return r.createElement(nt,{key:Y,data:U,rowKey:ne,index:Y,style:{top:-k+Be.top},extra:!0,getHeight:fe})});return Ce},O=r.useMemo(function(){return{columnsOffset:_}},[_]),$="".concat(s,"-tbody"),V=L(["body","wrapper"]),E={};return v&&(E.position="sticky",E.bottom=0,ke(v)==="object"&&v.offsetScroll&&(E.bottom=v.offsetScroll)),r.createElement(gt.Provider,{value:O},r.createElement(qt,{fullHeight:!1,ref:R,prefixCls:"".concat($,"-virtual"),styles:{horizontalScrollBar:E},className:$,height:w,itemHeight:g||24,data:H,itemKey:function(y){return d(y.record)},component:V,scrollWidth:f,direction:m,onVirtualScroll:function(y){var x,h=y.x;a({currentTarget:(x=R.current)===null||x===void 0?void 0:x.nativeElement,scrollLeft:h})},onScroll:I,extraRender:F},function(N,y,x){var h=d(N.record,y);return r.createElement(nt,{data:N,rowKey:h,index:y,style:x.style})}))}),na=Ke(ea),ta=function(t,n){var a=n.ref,o=n.onScroll;return r.createElement(na,{ref:a,data:t,onScroll:o})};function ra(e,t){var n=e.data,a=e.columns,o=e.scroll,l=e.sticky,i=e.prefixCls,d=i===void 0?ht:i,c=e.className,s=e.listItemHeight,p=e.components,f=e.onScroll,m=o||{},u=m.x,v=m.y;typeof u!="number"&&(u=1),typeof v!="number"&&(v=500);var w=Ne(function(I,R){return vn(p,I)||R}),g=Ne(f),L=r.useMemo(function(){return{sticky:l,scrollY:v,listItemHeight:s,getComponent:w,onScroll:g}},[l,v,s,w,g]);return r.createElement(yn.Provider,{value:L},r.createElement(ze,te({},e,{className:ee(c,"".concat(d,"-virtual")),scroll:C(C({},o),{},{x:u}),components:C(C({},p),{},{body:n!=null&&n.length?ta:void 0}),columns:a,internalHooks:Qe,tailor:!0,ref:t})))}var aa=r.forwardRef(ra);function oa(e){return ot(aa,e)}oa();export{we as E,dr as F,vt as I,oa as a,Qe as b,xt as c,Gr as g};
