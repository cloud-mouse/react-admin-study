import{k as ue,h as xe,i as be,a as Ne,_ as Oe,d as le,c as D,e as d,b as g,j as Re,g as Xe}from"./@babel-CbNk-B6_.js";import{c as Ye}from"./classnames-ELZfJkp_.js";import{c as me,t as Ce,G as se,I as Ze,j as en,h as nn,s as tn,i as rn,J as an}from"./rc-util-jI2IUycA.js";import{r as o}from"./react-CIM1rrag.js";import"./react-is-BpBQ4hf7.js";var on=["children"],De=o.createContext({});function bn(n){var e=n.children,t=ue(n,on);return o.createElement(De.Provider,{value:t},e)}var un=function(n){xe(t,n);var e=be(t);function t(){return Ne(this,t),e.apply(this,arguments)}return Oe(t,[{key:"render",value:function(){return this.props.children}}]),t}(o.Component),O="none",X="appear",Y="enter",Z="leave",ke="none",k="prepare",$="start",W="active",pe="end",Ue="prepared";function Le(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit".concat(n)]="webkit".concat(e),t["Moz".concat(n)]="moz".concat(e),t["ms".concat(n)]="MS".concat(e),t["O".concat(n)]="o".concat(e.toLowerCase()),t}function sn(n,e){var t={animationend:Le("Animation","AnimationEnd"),transitionend:Le("Transition","TransitionEnd")};return n&&("AnimationEvent"in e||delete t.animationend.animation,"TransitionEvent"in e||delete t.transitionend.transition),t}var cn=sn(me(),typeof window<"u"?window:{}),Ve={};if(me()){var fn=document.createElement("div");Ve=fn.style}var ee={};function we(n){if(ee[n])return ee[n];var e=cn[n];if(e)for(var t=Object.keys(e),r=t.length,a=0;a<r;a+=1){var u=t[a];if(Object.prototype.hasOwnProperty.call(e,u)&&u in Ve)return ee[n]=e[u],ee[n]}return""}var je=we("animationend"),Fe=we("transitionend"),Ke=!!(je&&Fe),Pe=je||"animationend",_e=Fe||"transitionend";function Me(n,e){if(!n)return null;if(le(n)==="object"){var t=e.replace(/-\w/g,function(r){return r[1].toUpperCase()});return n[t]}return"".concat(n,"-").concat(e)}const vn=function(n){var e=o.useRef();function t(a){a&&(a.removeEventListener(_e,n),a.removeEventListener(Pe,n))}function r(a){e.current&&e.current!==a&&t(e.current),a&&a!==e.current&&(a.addEventListener(_e,n),a.addEventListener(Pe,n),e.current=a)}return o.useEffect(function(){return function(){t(e.current)}},[]),[r,t]};var Ie=me()?o.useLayoutEffect:o.useEffect;const dn=function(){var n=o.useRef(null);function e(){Ce.cancel(n.current)}function t(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;e();var u=Ce(function(){a<=1?r({isCanceled:function(){return u!==n.current}}):t(r,a-1)});n.current=u}return o.useEffect(function(){return function(){e()}},[]),[t,e]};var ln=[k,$,W,pe],mn=[k,Ue],Qe=!1,pn=!0;function $e(n){return n===W||n===pe}const En=function(n,e,t){var r=se(ke),a=D(r,2),u=a[0],c=a[1],m=dn(),p=D(m,2),i=p[0],f=p[1];function s(){c(k,!0)}var v=e?mn:ln;return Ie(function(){if(u!==ke&&u!==pe){var l=v.indexOf(u),S=v[l+1],R=t(u);R===Qe?c(S,!0):S&&i(function(y){function M(){y.isCanceled()||c(S,!0)}R===!0?M():Promise.resolve(R).then(M)})}},[n,u]),o.useEffect(function(){return function(){f()}},[]),[s,u]};function Sn(n,e,t,r){var a=r.motionEnter,u=a===void 0?!0:a,c=r.motionAppear,m=c===void 0?!0:c,p=r.motionLeave,i=p===void 0?!0:p,f=r.motionDeadline,s=r.motionLeaveImmediately,v=r.onAppearPrepare,l=r.onEnterPrepare,S=r.onLeavePrepare,R=r.onAppearStart,y=r.onEnterStart,M=r.onLeaveStart,x=r.onAppearActive,_=r.onEnterActive,z=r.onLeaveActive,b=r.onAppearEnd,T=r.onEnterEnd,U=r.onLeaveEnd,V=r.onVisibleChanged,ne=se(),I=D(ne,2),C=I[0],w=I[1],h=Ze(O),j=D(h,2),N=j[0],F=j[1],te=se(null),Q=D(te,2),We=Q[0],Ee=Q[1],L=N(),G=o.useRef(!1),re=o.useRef(null);function J(){return t()}var Se=o.useRef(!1);function ye(){F(O),Ee(null,!0)}var he=en(function(A){var E=N();if(E!==O){var P=J();if(!(A&&!A.deadline&&A.target!==P)){var q=Se.current,B;E===X&&q?B=b==null?void 0:b(P,A):E===Y&&q?B=T==null?void 0:T(P,A):E===Z&&q&&(B=U==null?void 0:U(P,A)),q&&B!==!1&&ye()}}}),ze=vn(he),He=D(ze,1),Ge=He[0],Ae=function(E){switch(E){case X:return g(g(g({},k,v),$,R),W,x);case Y:return g(g(g({},k,l),$,y),W,_);case Z:return g(g(g({},k,S),$,M),W,z);default:return{}}},H=o.useMemo(function(){return Ae(L)},[L]),Je=En(L,!n,function(A){if(A===k){var E=H[k];return E?E(J()):Qe}if(K in H){var P;Ee(((P=H[K])===null||P===void 0?void 0:P.call(H,J(),null))||null)}return K===W&&L!==O&&(Ge(J()),f>0&&(clearTimeout(re.current),re.current=setTimeout(function(){he({deadline:!0})},f))),K===Ue&&ye(),pn}),ge=D(Je,2),qe=ge[0],K=ge[1],Be=$e(K);Se.current=Be;var Te=o.useRef(null);Ie(function(){if(!(G.current&&Te.current===e)){w(e);var A=G.current;G.current=!0;var E;!A&&e&&m&&(E=X),A&&e&&u&&(E=Y),(A&&!e&&i||!A&&s&&!e&&i)&&(E=Z);var P=Ae(E);E&&(n||P[k])?(F(E),qe()):F(O),Te.current=e}},[e]),o.useEffect(function(){(L===X&&!m||L===Y&&!u||L===Z&&!i)&&F(O)},[m,u,i]),o.useEffect(function(){return function(){G.current=!1,clearTimeout(re.current)}},[]);var ae=o.useRef(!1);o.useEffect(function(){C&&(ae.current=!0),C!==void 0&&L===O&&((ae.current||C)&&(V==null||V(C)),ae.current=!0)},[C,L]);var ie=We;return H[k]&&K===$&&(ie=d({transition:"none"},ie)),[L,K,ie,C??e]}function yn(n){var e=n;le(n)==="object"&&(e=n.transitionSupport);function t(a,u){return!!(a.motionName&&e&&u!==!1)}var r=o.forwardRef(function(a,u){var c=a.visible,m=c===void 0?!0:c,p=a.removeOnLeave,i=p===void 0?!0:p,f=a.forceRender,s=a.children,v=a.motionName,l=a.leavedClassName,S=a.eventProps,R=o.useContext(De),y=R.motion,M=t(a,y),x=o.useRef(),_=o.useRef();function z(){try{return x.current instanceof HTMLElement?x.current:an(_.current)}catch{return null}}var b=Sn(M,m,z,a),T=D(b,4),U=T[0],V=T[1],ne=T[2],I=T[3],C=o.useRef(I);I&&(C.current=!0);var w=o.useCallback(function(Q){x.current=Q,nn(u,Q)},[u]),h,j=d(d({},S),{},{visible:m});if(!s)h=null;else if(U===O)I?h=s(d({},j),w):!i&&C.current&&l?h=s(d(d({},j),{},{className:l}),w):f||!i&&!l?h=s(d(d({},j),{},{style:{display:"none"}}),w):h=null;else{var N;V===k?N="prepare":$e(V)?N="active":V===$&&(N="start");var F=Me(v,"".concat(U,"-").concat(N));h=s(d(d({},j),{},{className:Ye(Me(v,U),g(g({},F,F&&N),v,typeof v=="string")),style:ne}),w)}if(o.isValidElement(h)&&tn(h)){var te=rn(h);te||(h=o.cloneElement(h,{ref:w}))}return o.createElement(un,{ref:_},h)});return r.displayName="CSSMotion",r}const hn=yn(Ke);var ce="add",fe="keep",ve="remove",oe="removed";function An(n){var e;return n&&le(n)==="object"&&"key"in n?e=n:e={key:n},d(d({},e),{},{key:String(e.key)})}function de(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return n.map(An)}function gn(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],t=[],r=0,a=e.length,u=de(n),c=de(e);u.forEach(function(i){for(var f=!1,s=r;s<a;s+=1){var v=c[s];if(v.key===i.key){r<s&&(t=t.concat(c.slice(r,s).map(function(l){return d(d({},l),{},{status:ce})})),r=s),t.push(d(d({},v),{},{status:fe})),r+=1,f=!0;break}}f||t.push(d(d({},i),{},{status:ve}))}),r<a&&(t=t.concat(c.slice(r).map(function(i){return d(d({},i),{},{status:ce})})));var m={};t.forEach(function(i){var f=i.key;m[f]=(m[f]||0)+1});var p=Object.keys(m).filter(function(i){return m[i]>1});return p.forEach(function(i){t=t.filter(function(f){var s=f.key,v=f.status;return s!==i||v!==ve}),t.forEach(function(f){f.key===i&&(f.status=fe)})}),t}var Tn=["component","children","onVisibleChanged","onAllRemoved"],Rn=["status"],Cn=["eventProps","visible","children","motionName","motionAppear","motionEnter","motionLeave","motionLeaveImmediately","motionDeadline","removeOnLeave","leavedClassName","onAppearPrepare","onAppearStart","onAppearActive","onAppearEnd","onEnterStart","onEnterActive","onEnterEnd","onLeaveStart","onLeaveActive","onLeaveEnd"];function kn(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:hn,t=function(r){xe(u,r);var a=be(u);function u(){var c;Ne(this,u);for(var m=arguments.length,p=new Array(m),i=0;i<m;i++)p[i]=arguments[i];return c=a.call.apply(a,[this].concat(p)),g(Re(c),"state",{keyEntities:[]}),g(Re(c),"removeKey",function(f){c.setState(function(s){var v=s.keyEntities.map(function(l){return l.key!==f?l:d(d({},l),{},{status:oe})});return{keyEntities:v}},function(){var s=c.state.keyEntities,v=s.filter(function(l){var S=l.status;return S!==oe}).length;v===0&&c.props.onAllRemoved&&c.props.onAllRemoved()})}),c}return Oe(u,[{key:"render",value:function(){var m=this,p=this.state.keyEntities,i=this.props,f=i.component,s=i.children,v=i.onVisibleChanged;i.onAllRemoved;var l=ue(i,Tn),S=f||o.Fragment,R={};return Cn.forEach(function(y){R[y]=l[y],delete l[y]}),delete l.keys,o.createElement(S,l,p.map(function(y,M){var x=y.status,_=ue(y,Rn),z=x===ce||x===fe;return o.createElement(e,Xe({},R,{key:_.key,visible:z,eventProps:_,onVisibleChanged:function(T){v==null||v(T,{key:_.key}),T||m.removeKey(_.key)}}),function(b,T){return s(d(d({},b),{},{index:M}),T)})}))}}],[{key:"getDerivedStateFromProps",value:function(m,p){var i=m.keys,f=p.keyEntities,s=de(i),v=gn(f,s);return{keyEntities:v.filter(function(l){var S=f.find(function(R){var y=R.key;return l.key===y});return!(S&&S.status===oe&&l.status===ve)})}}}]),u}(o.Component);return g(t,"defaultProps",{component:"div"}),t}const Nn=kn(Ke);export{hn as C,bn as M,Nn as a};
